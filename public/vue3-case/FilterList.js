"use strict";(self.webpackChunk_jico_vue3_template=self.webpackChunk_jico_vue3_template||[]).push([[84],{8361:(e,t,n)=>{t.x=void 0;var l=n(9660),o={startClientX:0,startClientY:0,axis:null};t.x=function(e,t){var n=t.handleTouchStart,i=void 0===n?function(e,t){}:n,r=t.handleTouchMove,a=void 0===r?function(e,t){}:r,c=t.handleTouchEnd,s=void 0===c?function(e,t){}:c;if(!e)throw new Error("[use-touch-steps]: no valid init el");var u=(0,l.reactive)(o),d=function(e){var t=e.touches[0]||e.changedTouches[0];u.startClientX=t.pageX,u.startClientY=t.pageY,i(e,(0,l.toRefs)(u))},f=function(e){var t=e.touches[0]||e.changedTouches[0];if(!u.axis){var n=t.clientY-u.startClientY,o=t.clientX-u.startClientX;Math.abs(n)-Math.abs(o)>0?u.axis=n>0?"y+":"y-":u.axis=o>0?"x+":"x-"}a(e,(0,l.toRefs)(u))},p=function(e){u.axis=null,s(e,(0,l.toRefs)(u))},v=function(t){var n=t?e.addEventListener:e.removeEventListener;n("touchstart",d,{passive:!1}),n("touchmove",f,{passive:!1}),n("touchend",p,{passive:!1})};return v(!0),{toggleListener:v,data:(0,l.toRefs)(u)}}},5151:(e,t,n)=>{n.r(t),n.d(t,{default:()=>W});var l=n(5455),o={class:"vs-container"};n(9944),n(1874),n(5737),n(8233);var i=n(7333),r={class:"filter-list-container"},a={class:"mask",ref:"filterMaskEl"},c={class:"filter-list-wrap",ref:"filterList"},s={class:"filter-bar clear"},u=(0,l._)("div",{class:"filter-items-left"},"名称",-1),d={class:"filter-items-right"},f={class:"scrollx-wrap",ref:"filterBarEl"},p={class:"scroll-item"},v={class:"text"},h=(0,l._)("div",{class:"sort-icon"},null,-1),m={class:"filter-content",ref:"filterContent"},g={class:"content-left"},b={class:"left-item"},L=(0,l._)("div",{class:"title"},"腾讯控股",-1),y=(0,l._)("div",{class:"code"},"00700",-1),D=(0,l._)("div",{class:"icon"},null,-1),_={class:"content-right"},k={class:"scrollx-wrap",ref:"scrollXContentEl"},x={class:"right-item"},w={class:"price-top"},S={class:"price-bottom"},M=(0,l._)("div",{class:"fake-border-bottom"},null,-1),U={class:"fake-right"},B={class:"fake-boder-bottom"};n(6752),n(5093);var H=n(3708),E=n(8361),F=null;const X={name:"FilterList",props:{filterBar:{type:Array,default:function(){return[]}},filterData:{type:Array,default:function(){return[]}},loadMore:{type:Function,default:function(){}},loadMoreFinished:{type:Boolean,default:!1},loadOffset:{type:Number,default:300},hackBounce:{type:Boolean,default:!1}},data:function(){return{scrollLeft:0,pullLoading:!1,aixsXFlag:!1}},setup:function(){var e=(0,l.f3)("t"),t=(0,H.iH)(null),n=(0,H.iH)(null),o=(0,H.iH)(null),i=(0,H.iH)(null),r=(0,H.iH)(null),a=(0,H.qj)({scrollXWidth:300,pullRefreshDisabled:!0,loadMoreLoading:!1}),c=(0,l.FN)().proxy;return(0,l.bv)((function(){setTimeout((function(){a.scrollXWidth=(0,H.SU)(o).scrollWidth}),1e3),(0,H.SU)(n).addEventListener("scroll",(function(){a.pullRefreshDisabled=0<(0,H.SU)(n).scrollTop}),!1),(0,H.SU)(i).addEventListener("touchmove",(function(e){e.preventDefault()}),{passive:!1}),(0,H.SU)(o).addEventListener("scroll",(function(){c.scrollLeft=(0,H.SU)(o).scrollLeft,o.value.scrollLeft=i.value.scrollLeft=(0,H.SU)(o).scrollLeft}),!1),(0,E.x)((0,H.SU)(t),{handleTouchStart:function(){c.toogleRootScroll(!0)},handleTouchMove:function(e,t){var n=t.axis,l="x-"===(0,H.SU)(n)&&c.scrollLeft>=(0,H.SU)(o).scrollWidth-(0,H.SU)(o).clientWidth,i="x+"===(0,H.SU)(n)&&0>=c.scrollLeft;c.aixsXFlag=!!["x+","x-"].includes((0,H.SU)(n)),(l||i)&&e.preventDefault()},handleTouchEnd:function(){c.hackBounce&&c.aixsXFlag&&c.doHackBounce((0,H.SU)(r))}})})),{t:e,filterList:t,filterContent:n,scrollXContentEl:o,filterBarEl:i,filterMaskEl:r,data:a,updateLoadMoreStatus:function(e){a.loadMoreLoading=e}}},computed:{},methods:{toogleRootScroll:function(e){document.documentElement.style.overflow=e?"hidden":"auto"},doHackBounce:function(e){var t=this;e.style.display="block",clearTimeout(F),F=setTimeout((function(){t.toogleRootScroll(!1),e.style.display="none"}),300)},onRefresh:function(){var e=this;this.filterMaskEl.style.display="block",setTimeout((function(){e.filterMaskEl.style.display="none",e.pullLoading=!1}),3e3)}},beforeUnmount:function(){},mounted:function(){}};var R=n(3744);const T={name:"FilterList",props:{},components:{Filter:(0,R.Z)(X,[["render",function(e,t,n,o,H,E){var F=(0,l.up)("van-list"),X=(0,l.up)("van-pull-refresh");return(0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("div",a,null,512),(0,l._)("div",c,[(0,l._)("div",s,[u,(0,l._)("div",d,[(0,l._)("div",f,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.filterBar,(function(e){return(0,l.wg)(),(0,l.iD)("div",p,[(0,l._)("div",v,(0,i.toDisplayString)(e.text),1),h])})),256))],512)])]),(0,l.Wm)(X,{modelValue:H.pullLoading,"onUpdate:modelValue":t[1]||(t[1]=function(e){return H.pullLoading=e}),onRefresh:E.onRefresh,disabled:o.data.pullRefreshDisabled},{default:(0,l.w5)((function(){return[(0,l._)("div",m,[(0,l._)("div",g,[(0,l.Wm)(F,{loading:o.data.loadMoreLoading,"onUpdate:loading":t[0]||(t[0]=function(e){return o.data.loadMoreLoading=e}),finished:n.loadMoreFinished,onLoad:n.loadMore},{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.filterData,(function(t){return(0,l.wg)(),(0,l.iD)("div",b,[(0,l.WI)(e.$slots,"content-left",(0,i.normalizeProps)((0,l.F4)({item:t})),(function(){return[L,y,D]}))])})),256))]})),_:3},8,["loading","finished","onLoad"])]),(0,l._)("div",_,[(0,l._)("div",k,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.filterData,(function(t){return(0,l.wg)(),(0,l.iD)("div",{class:"right-line-x",style:(0,i.normalizeStyle)({width:"".concat(o.data.scrollXWidth,"px")})},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.filterBar.length,(function(n,o){return(0,l.wg)(),(0,l.iD)("div",x,[(0,l.WI)(e.$slots,"content-right",(0,i.normalizeProps)((0,l.F4)({section:t})),(function(){return[(0,l._)("div",w,(0,i.toDisplayString)(t["price".concat(o+1)]),1),(0,l._)("div",S,(0,i.toDisplayString)(t["price".concat(o+1)]),1)]}))])})),256)),M],4)})),256))],512)]),(0,l._)("div",U,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.filterData,(function(){return(0,l.wg)(),(0,l.iD)("div",B)})),256))])],512)]})),_:3},8,["modelValue","onRefresh","disabled"])],512)])}]])},data:function(){return{filterBar:Array.from({length:6},(function(){return{text:"价格",filter:!0}})),filterData:Array.from({length:15},(function(){return{name:"腾讯控股",code:"00700",price1:"20.000",price2:"21.000",price3:"22.000",price4:"23.000",price5:"24.000",price6:"25.000"}})),loadMoreFinished:!1,enableBounceHack:!1}},setup:function(){return{t:(0,l.f3)("t")}},computed:{},methods:{loadMore:function(){var e=this;setTimeout((function(){e.filterData=e.filterData.concat(Array.from({length:15},(function(){return{name:"腾讯控股",code:"00700",price1:"20.000",price2:"21.000",price3:"22.000",price4:"23.000",price5:"24.000",price6:"25.000"}}))),e.$refs.filterX.updateLoadMoreStatus(!1)}),3e3)}},beforeUnmount:function(){},mounted:function(){}},W=(0,R.Z)(T,[["render",function(e,t,n,i,r,a){var c=(0,l.up)("van-switch"),s=(0,l.up)("van-cell"),u=(0,l.up)("Filter");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l.Wm)(s,{center:"",title:"bounceHack: ".concat(r.enableBounceHack)},{"right-icon":(0,l.w5)((function(){return[(0,l.Wm)(c,{modelValue:r.enableBounceHack,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.enableBounceHack=e}),size:"24"},null,8,["modelValue"])]})),_:1},8,["title"]),(0,l.Wm)(u,{ref:"filterX","filter-bar":r.filterBar,"filter-data":r.filterData,"load-more":a.loadMore,"load-more-finished":r.loadMoreFinished,"hack-bounce":r.enableBounceHack},null,8,["filter-bar","filter-data","load-more","load-more-finished","hack-bounce"])])}]])}}]);